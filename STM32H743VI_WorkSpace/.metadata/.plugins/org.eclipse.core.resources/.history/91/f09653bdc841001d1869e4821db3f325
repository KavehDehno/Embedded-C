
#include "main.h"

void led_effect_stop(void)
{
	for(int i=0; i<4; i++)
		xTimerStop(LED_Timer_Handle[i], portMAX_DELAY);
}


void led_effect(int n)
{
	led_effect_stop();
	xTimerStart(LED_Timer_Handle[n-1], portMAX_DELAY);
}

void turn_off_all_leds(void)
{
	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0|GPIO_PIN_1|GPIO_PIN_2, GPIO_PIN_SET);
}

void turn_on_all_leds(void)
{
	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0|GPIO_PIN_1|GPIO_PIN_2, GPIO_PIN_RESET);
}

void turn_off_1_leds(void)
{
	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0 | GPIO_PIN_1| GPIO_PIN_2, GPIO_PIN_RESET);
}

void turn_on_1_leds(void)
{
	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0, GPIO_PIN_SET);
}

void turn_off_2_leds(void)
{
	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0 | GPIO_PIN_1| GPIO_PIN_2, GPIO_PIN_SET);
}

void turn_on_2_leds(void)
{
	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_1, GPIO_PIN_RESET);
}

void turn_off_3_leds(void)
{
	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0 | GPIO_PIN_1| GPIO_PIN_2, GPIO_PIN_SET);
}

void turn_on_3_leds(void)
{
	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_2, GPIO_PIN_RESET);
}


void LED_effect1(void)
{
	static int Flag = 1;
	(Flag ^= 1) ? turn_off_all_leds() : turn_on_all_leds();
}

void LED_effect2(void)
{
	static int Flag = 1;
	(Flag ^= 1) ? turn_off_1_leds() : turn_on_1_leds();
}

void LED_effect3(void)
{
	static int Flag = 1;
	(Flag ^= 1) ? turn_off_2_leds() : turn_on_2_leds();
}

void LED_effect4(void)
{
	static int Flag = 1;
	(Flag ^= 1) ? turn_off_3_leds() : turn_on_3_leds();
}
